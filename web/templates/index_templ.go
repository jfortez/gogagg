// Code generated by templ - DO NOT EDIT.

// templ: version: v0.2.696
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import "context"
import "io"
import "bytes"

import "github.com/jfortez/gogagg/web/templates/layouts"

func Index() templ.Component {
	return templ.ComponentFunc(func(ctx context.Context, templ_7745c5c3_W io.Writer) (templ_7745c5c3_Err error) {
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templ_7745c5c3_W.(*bytes.Buffer)
		if !templ_7745c5c3_IsBuffer {
			templ_7745c5c3_Buffer = templ.GetBuffer()
			defer templ.ReleaseBuffer(templ_7745c5c3_Buffer)
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templ.ComponentFunc(func(ctx context.Context, templ_7745c5c3_W io.Writer) (templ_7745c5c3_Err error) {
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templ_7745c5c3_W.(*bytes.Buffer)
			if !templ_7745c5c3_IsBuffer {
				templ_7745c5c3_Buffer = templ.GetBuffer()
				defer templ.ReleaseBuffer(templ_7745c5c3_Buffer)
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<script type=\"text/javascript\">\r\n   window.onload = function () {\r\n    var conn;\r\n    var msg = document.getElementById(\"msg\");\r\n    var log = document.getElementById(\"log\");\r\n\r\n    function appendLog(item) {\r\n        var doScroll = log.scrollTop > log.scrollHeight - log.clientHeight - 1;\r\n        log.appendChild(item);\r\n        if (doScroll) {\r\n            log.scrollTop = log.scrollHeight - log.clientHeight;\r\n        }\r\n    }\r\n\r\n    document.getElementById(\"form\").onsubmit = function () {\r\n        if (!conn) {\r\n            return false;\r\n        }\r\n        if (!msg.value) {\r\n            return false;\r\n        }\r\n        conn.send(msg.value);\r\n        msg.value = \"\";\r\n        return false;\r\n    };\r\n\r\n    if (window[\"WebSocket\"]) {\r\n        conn = new WebSocket(\"ws://\" + document.location.host + \"/ws\");\r\n        conn.onclose = function (evt) {\r\n            var item = document.createElement(\"div\");\r\n            item.innerHTML = \"<b>Connection closed.</b>\";\r\n            appendLog(item);\r\n        };\r\n        conn.onmessage = function (evt) {\r\n            var messages = evt.data.split('\\n');\r\n            for (var i = 0; i < messages.length; i++) {\r\n                var item = document.createElement(\"div\");\r\n                item.innerText = messages[i];\r\n                appendLog(item);\r\n            }\r\n        };\r\n    } else {\r\n        var item = document.createElement(\"div\");\r\n        item.innerHTML = \"<b>Your browser does not support WebSockets.</b>\";\r\n        appendLog(item);\r\n    }\r\n};\r\n  </script> <style type=\"text/css\">\r\nhtml {\r\n    overflow: hidden;\r\n}\r\n\r\nbody {\r\n    overflow: hidden;\r\n    padding: 0;\r\n    margin: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: gray;\r\n}\r\n\r\n#log {\r\n    background: white;\r\n    margin: 0;\r\n    padding: 0.5em 0.5em 0.5em 0.5em;\r\n    position: absolute;\r\n    top: 0.5em;\r\n    left: 0.5em;\r\n    right: 0.5em;\r\n    bottom: 3em;\r\n    overflow: auto;\r\n}\r\n\r\n#form {\r\n    padding: 0 0.5em 0 0.5em;\r\n    margin: 0;\r\n    position: absolute;\r\n    bottom: 1em;\r\n    left: 0px;\r\n    width: 100%;\r\n    overflow: hidden;\r\n}\r\n\t</style> <div><h1 class=\"text-3xl font-bold text-white\">Goggs Gers</h1><p class=\"text-xl text-white\">A simple todo app built with Go and Tailwind CSS</p><div id=\"log\"></div><form id=\"form\"><input type=\"submit\" value=\"Send\"> <input type=\"text\" id=\"msg\" size=\"64\" autofocus></form></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if !templ_7745c5c3_IsBuffer {
				_, templ_7745c5c3_Err = io.Copy(templ_7745c5c3_W, templ_7745c5c3_Buffer)
			}
			return templ_7745c5c3_Err
		})
		templ_7745c5c3_Err = layouts.Main().Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if !templ_7745c5c3_IsBuffer {
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteTo(templ_7745c5c3_W)
		}
		return templ_7745c5c3_Err
	})
}
